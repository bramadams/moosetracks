################################################################################
# C compilation
################################################################################
%$O: %.c
	@$(MKDIR) -p $(@D)
	$(strip $(CC) -c $(CPPFLAGS) $(CFLAGS) -o $@ $<)

################################################################################
# Static libraries
################################################################################
%$A:
	@$(MKDIR) -p $(@D)
	$(strip $(AR) $(ARFLAGS) $(AROUTPUT) $@ $(filter %$O,$^) $(filter %$A,$^))

################################################################################
# Executables
################################################################################
%$E:
	@$(MKDIR) -p $(@D)
	$(strip $(LD) $(LDFLAGS) $^ $(LOADLIBES) $(LDLIBS) -o $@)
